@inherits LayoutComponentBase
@inject NavigationManager _nav


<PageTitle>Organizer</PageTitle>

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <div style="background-color: rgb(5, 39, 103)">
            <LoginModal @ref="Modal"></LoginModal>
            <AuthorizeView>
                <NotAuthorized>
                        <div style="background-color: rgba(0,0,0,0.4)" class="top-row px-4">
                        <button class="btn btn-primary" @onclick="() => Modal.Open()">Zaloguj</button>
                    </div>
                </NotAuthorized>
                <Authorized>
                        <div style="background-color: rgba(0,0,0,0.4)" class="top-row px-4">
                        <button class="btn btn-primary" @onclick="@(() => _nav.NavigateTo("/logout"))">Wyloguj</button>
                    </div>
                </Authorized>
            </AuthorizeView>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code
{
    private LoginModal Modal { get; set; }
    private bool showLoginModal;

    private void ShowLoginModal()
    {
        showLoginModal = true;
    }
}
